services:
  db:
    container_name: rdfsql
    image: postgres:17
    environment:
      - POSTGRES_PASSWORD=ontop
    volumes:
      - ./postgres-data:/var/lib/postgresql/data
    command: >
        -c max_wal_size=8GB
        -c synchronous_commit=off


  ontop:
    tty: true
    stdin_open: true
    image: rdfsql-ontop
    ports:
      - 65432:8080
    volumes:
      - .:/source
      - /data/staging/prototype-rdfsql:/data
    build:
      context: .
      dockerfile: Dockerfile
