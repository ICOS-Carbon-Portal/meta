[PrefixDeclaration]
core: http://www.w3.org/2004/02/skos/core#
cpmeta: http://meta.icos-cp.eu/ontologies/cpmeta/
dcat: http://www.w3.org/ns/dcat#
elements11: http://purl.org/dc/elements/1.1/
files: http://meta.icos-cp.eu/files/
ns: http://www.w3.org/2006/vcard/ns#
otcmeta: http://meta.icos-cp.eu/ontologies/otcmeta/
owl: http://www.w3.org/2002/07/owl#
prov: http://www.w3.org/ns/prov#
rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns#
rdfs: http://www.w3.org/2000/01/rdf-schema#
ssn: http://www.w3.org/ns/ssn/
stationentry: http://meta.icos-cp.eu/ontologies/stationentry/
terms: http://purl.org/dc/terms/
vann: http://purl.org/vocab/vann/
wdcgg: http://meta.icos-cp.eu/resources/wdcgg/
xsd: http://www.w3.org/2001/XMLSchema#
metaobjects: https://meta.icos-cp.eu/objects/

[MappingDeclaration] @collection [[

mappingId    data-object-full
target       metaobjects:/{sha256} a cpmeta:DataObject ;
               cpmeta:hasName {name} ;
               cpmeta:hasSha256sum {sha256} ;
               cpmeta:hasSizeInBytes {size_in_bytes}^^xsd:long ;
               cpmeta:hasNumberOfRows {number_of_rows}^^xsd:long ;
               cpmeta:hasObjectSpec <{spec_uri}> ;
               prov:wasProducedBy {was_produced_by} ;
               cpmeta:hasDoi {doi} .
source       SELECT
               d.sha256,
               d.name,
               d.size_in_bytes ,
               d.number_of_rows,
               d.doi ,
               d.was_produced_by,
               os.uri as spec_uri
            FROM data_objects d
            JOIN object_specs os ON d.object_spec_id = os.id
            WHERE d.name IS NOT NULL
]]
